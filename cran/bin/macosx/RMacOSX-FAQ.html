<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>R for macOS FAQ</title>

<meta name="description" content="R for macOS FAQ">
<meta name="keywords" content="R for macOS FAQ">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="dir.html#Top" rel="up" title="(dir)">
<link href="#Introduction" rel="next" title="Introduction">
<link href="dir.html#Top" rel="prev" title="(dir)">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">











<div class="top-level-extent" id="Top">
<div class="nav-panel">
<p>
Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Previous: <a href="dir.html#Top" accesskey="p" rel="prev">(dir)</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; </p>
</div>
<h1 class="top" id="R-for-macOS-FAQ"><span>R for macOS FAQ<a class="copiable-link" href="#R-for-macOS-FAQ"> &para;</a></span></h1>
<h2>Frequently Asked Questions on R for macOS</h2>
<h2>Version 4.5.1 2025-06-12, R.app 1.82</h2>
<address>Stefano M. Iacus</address>
<address>Simon Urbanek</address>
<address>Rob J. Goedman</address>
<address>Brian Ripley</address>
<p><p><hr><p>


<ul class="mini-toc">
<li><a href="#Introduction" accesskey="1">Introduction</a></li>
<li><a href="#R_002eapp" accesskey="2">R.app</a></li>
<li><a href="#How-to-install-packages" accesskey="3">How to install packages</a></li>
<li><a href="#R-and-external-applications" accesskey="4">R and external applications</a></li>
<li><a href="#Quartz-device" accesskey="5">Quartz device</a></li>
<li><a href="#Tcl_002fTk-issues" accesskey="6">Tcl/Tk issues</a></li>
<li><a href="#Internationalization-of-the-R_002eapp" accesskey="7">Internationalization of the R.app</a></li>
<li><a href="#Additional-resources" accesskey="8">Additional resources</a></li>
<li><a href="#Acknowledgments" accesskey="9">Acknowledgments</a></li>
<li><a href="#Miscellaneous-questions">Miscellaneous questions</a></li>
</ul>
<hr>
<div class="chapter-level-extent" id="Introduction">
<div class="nav-panel">
<p>
Next: <a href="#R_002eapp" accesskey="n" rel="next">R.app</a>, Previous: <a href="#Top" accesskey="p" rel="prev">R for macOS FAQ</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Introduction-1"><span>1 Introduction<a class="copiable-link" href="#Introduction-1"> &para;</a></span></h2>

<p>This document contains a user guide to the <small class="sc">R.APP</small> version of <abbr class="acronym">R</abbr>, and
information on using <abbr class="acronym">R</abbr> on macOS which supplements the main <abbr class="acronym">R</abbr>
manuals, the latest versions of which can be found at
<a class="uref" href="http://cran.r-project.org/manuals.html">http://cran.r-project.org/manuals.html</a>.
</p>
<p>In this document <abbr class="acronym">R</abbr> refers to the core, command-line-based <abbr class="acronym">R</abbr> system
while <small class="sc">R.APP</small> refers to the GUI-based Mac OS application that controls
the underlying <abbr class="acronym">R</abbr>.
</p>

<p>This &lsquo;R for macOS FAQ&rsquo; is rather incomplete at the moment and requires
contributions from users.  Anything specific to the R language can be
found in the main R-FAQ (see
<a class="uref" href="http://cran.r-project.org/doc/FAQ/R-FAQ.html">http://cran.r-project.org/doc/FAQ/R-FAQ.html</a>).  Please send any
requests/questions you would like answers to the
<a class="uref" href="https://stat.ethz.ch/mailman/listinfo/r-sig-mac">R-SIG-Mac</a>
mailing list (after subscribing) as well as comments on this FAQ.
</p>
<p>The last section of this document contains the most frequently asked
questions that don&rsquo;t fit strictly into any of the categories above &ndash; it
is usually a good idea to always look into that section if your issue
doesn&rsquo;t fit any of the above or was not answered in one of the specific
sections. <em class="emph">Always read this FAQ before asking for help on
R-SIG-Mac!</em>
</p>

<ul class="mini-toc">
<li><a href="#How-many-versions-of-R-for-macOS_003f" accesskey="1">How many versions of R for macOS?</a></li>
<li><a href="#What-machines-does-R-for-macOS-run-on_003f" accesskey="2">What machines does R for macOS run on?</a></li>
<li><a href="#How-can-R-for-macOS-be-obtained-and-installed_003f" accesskey="3">How can R for macOS be obtained and installed?</a></li>
</ul>
<hr>
<div class="section-level-extent" id="How-many-versions-of-R-for-macOS_003f">
<div class="nav-panel">
<p>
Next: <a href="#What-machines-does-R-for-macOS-run-on_003f" accesskey="n" rel="next">What machines does R for macOS run on?</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; </p>
</div>
<h3 class="section" id="How-many-versions-of-R-for-macOS_003f-1"><span>1.1 How many versions of R for macOS?<a class="copiable-link" href="#How-many-versions-of-R-for-macOS_003f-1"> &para;</a></span></h3>

<p>There is only one version of R for macOS.  However, <abbr class="acronym">R</abbr> on macOS
can be used either on the command-line as on other Unix systems, or via
the <small class="sc">R.APP</small> GUI (see <a class="pxref" href="#R_002eapp">R.app</a>).  The second approach is mostly
preferred by Macintosh users.
</p>

<hr>
</div>
<div class="section-level-extent" id="What-machines-does-R-for-macOS-run-on_003f">
<div class="nav-panel">
<p>
Next: <a href="#How-can-R-for-macOS-be-obtained-and-installed_003f" accesskey="n" rel="next">How can R for macOS be obtained and installed?</a>, Previous: <a href="#How-many-versions-of-R-for-macOS_003f" accesskey="p" rel="prev">How many versions of R for macOS?</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; </p>
</div>
<h3 class="section" id="What-machines-does-R-for-macOS-run-on_003f-1"><span>1.2 What machines does R for macOS run on?<a class="copiable-link" href="#What-machines-does-R-for-macOS-run-on_003f-1"> &para;</a></span></h3>

<p>64-bit Intel-based Macs, that is any machine made since mid 2008.
</p>
<p>As from <abbr class="acronym">R</abbr> 4.1.0 there is a separate build for ARM-based Macs (known
as &lsquo;M1&rsquo; and &lsquo;Apple Silicon&rsquo;), although the Intel-based distribution
works well under &lsquo;Rosetta&rsquo; emulation.
</p>
<hr>
</div>
<div class="section-level-extent" id="How-can-R-for-macOS-be-obtained-and-installed_003f">
<div class="nav-panel">
<p>
Previous: <a href="#What-machines-does-R-for-macOS-run-on_003f" accesskey="p" rel="prev">What machines does R for macOS run on?</a>, Up: <a href="#Introduction" accesskey="u" rel="up">Introduction</a> &nbsp; </p>
</div>
<h3 class="section" id="How-can-R-for-macOS-be-obtained-and-installed_003f-1"><span>1.3 How can R for macOS be obtained and installed?<a class="copiable-link" href="#How-can-R-for-macOS-be-obtained-and-installed_003f-1"> &para;</a></span></h3>

<p><abbr class="acronym">R</abbr> is available on <abbr class="acronym">CRAN</abbr> in the form of an Installer package
containing the R framework and the <small class="sc">R.APP</small> GUI. The package is usually
named <samp class="file">R.pkg</samp> with an optional version number.
</p>
<p>The installation is done by double-clicking on the Installer
package. The Installer will guide you through the necessary steps.  Note
that it will require password or login of an account with administrator
privileges.  The installation can be customized, but the default is
suitable for most users.
</p>
<p>Snapshots of the R-patched and R-devel flavours are available at
<a class="uref" href="http://mac.R-project.org/">http://mac.R-project.org/</a>, packaged in the same way.
</p>
<p>Further details, including uninstallation and building <abbr class="acronym">R</abbr> from the
sources, are in the &lsquo;R Installation and Administration Manual&rsquo;.
</p>

<hr>
</div>
</div>
<div class="chapter-level-extent" id="R_002eapp">
<div class="nav-panel">
<p>
Next: <a href="#How-to-install-packages" accesskey="n" rel="next">How to install packages</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="R_002eapp-1"><span>2 R.app<a class="copiable-link" href="#R_002eapp-1"> &para;</a></span></h2>

<p><small class="sc">R.APP</small> is the name of the GUI for macOS that was introduced in R
2.0.0. It appears as an icon labeled <em class="emph">R</em>, but to avoid confusion
with general <abbr class="acronym">R</abbr>, we prefer to use the name as it appears when using
<em class="emph">Get Info</em> on the GUI: <small class="sc">R.APP</small> This stands for <em class="emph">R
application</em>.
</p>
<p>Internally <small class="sc">R.APP</small> is a Cocoa program (hence written in Objective C)
which links to embedded <abbr class="acronym">R</abbr> installed as a framework.
</p>

<ul class="mini-toc">
<li><a href="#How-to-get-R_002eapp" accesskey="1">How to get R.app</a></li>
<li><a href="#How-to-install-the-R_002eapp" accesskey="2">How to install the R.app</a></li>
<li><a href="#The-R-Console" accesskey="3">The R Console</a></li>
<li><a href="#General-Features" accesskey="4">General Features</a></li>
<li><a href="#The-Menus" accesskey="5">The Menus</a></li>
<li><a href="#Preferences" accesskey="6">Preferences</a></li>
<li><a href="#R_002eapp-Bugs" accesskey="7">R.app Bugs</a></li>
</ul>
<hr>
<div class="section-level-extent" id="How-to-get-R_002eapp">
<div class="nav-panel">
<p>
Next: <a href="#How-to-install-the-R_002eapp" accesskey="n" rel="next">How to install the R.app</a>, Previous: <a href="#R_002eapp" accesskey="p" rel="prev">R.app</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="How-to-get-R_002eapp-1"><span>2.1 How to get R.app<a class="copiable-link" href="#How-to-get-R_002eapp-1"> &para;</a></span></h3>

<p><small class="sc">R.APP</small> is part of the binary distribution of R for macOS available
from <abbr class="acronym">CRAN</abbr>. That distribution consists of one package containing the R
framework and <small class="sc">R.APP</small>.
</p>
<p>Development versions of <small class="sc">R.APP</small> are made available on daily basis in the
form of a disk image containing the <small class="sc">R.APP</small> itself. See the macOS
pages on <abbr class="acronym">CRAN</abbr> for detail how to obtain such snapshots (currently at
<a class="uref" href="http://mac.R-project.org/">http://mac.R-project.org/</a>).
</p>
<hr>
</div>
<div class="section-level-extent" id="How-to-install-the-R_002eapp">
<div class="nav-panel">
<p>
Next: <a href="#The-R-Console" accesskey="n" rel="next">The R Console</a>, Previous: <a href="#How-to-get-R_002eapp" accesskey="p" rel="prev">How to get R.app</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="How-to-install-the-R_002eapp-1"><span>2.2 How to install the R.app<a class="copiable-link" href="#How-to-install-the-R_002eapp-1"> &para;</a></span></h3>
<p><small class="sc">R.APP</small> is installed the same way as the R framework, namely using
binary package provided on <abbr class="acronym">CRAN</abbr>. The <samp class="file">bin/macosx</samp> directory of a
<abbr class="acronym">CRAN</abbr> site contains a standard Apple installer package named
<samp class="file">R.pkg</samp> (optionally containing the version number). Download and
double-click the package icon.
</p>
<p>Please, carefully read the note on the usage of tcltk and Fortran on the <samp class="file">bin/macosx</samp> directory of a <abbr class="acronym">CRAN</abbr> site.
</p>
<hr>
</div>
<div class="section-level-extent" id="The-R-Console">
<div class="nav-panel">
<p>
Next: <a href="#General-Features" accesskey="n" rel="next">General Features</a>, Previous: <a href="#How-to-install-the-R_002eapp" accesskey="p" rel="prev">How to install the R.app</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="The-R-Console-1"><span>2.3 The R Console<a class="copiable-link" href="#The-R-Console-1"> &para;</a></span></h3>
<p>In this section you&rsquo;ll find general information on the <small class="sc">R.APP</small>. For specific <abbr class="acronym">R</abbr> tasks that
can be done via the <small class="sc">R.APP</small> using menus you should read below (see <a class="pxref" href="#The-Menus">The Menus</a>). 
</p>

<ul class="mini-toc">
<li><a href="#The-Input-and-the-Output" accesskey="1">The Input and the Output</a></li>
<li><a href="#Copy-and-Paste" accesskey="2">Copy and Paste</a></li>
<li><a href="#The-current-and-startup-working-directories" accesskey="3">The current and startup working directories</a></li>
<li><a href="#Resizing-the-R-Console" accesskey="4">Resizing the R Console</a></li>
<li><a href="#R-Console-text-colors" accesskey="5">R Console text colors</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="The-Input-and-the-Output">
<div class="nav-panel">
<p>
Next: <a href="#Copy-and-Paste" accesskey="n" rel="next">Copy and Paste</a>, Previous: <a href="#The-R-Console" accesskey="p" rel="prev">The R Console</a>, Up: <a href="#The-R-Console" accesskey="u" rel="up">The R Console</a> &nbsp; </p>
</div>
<h4 class="subsection" id="The-Input-and-the-Output-1"><span>2.3.1 The Input and the Output<a class="copiable-link" href="#The-Input-and-the-Output-1"> &para;</a></span></h4>
<p>The current design of the R Console is to have a single frame for input (user) and output (R).
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Copy-and-Paste">
<div class="nav-panel">
<p>
Next: <a href="#The-current-and-startup-working-directories" accesskey="n" rel="next">The current and startup working directories</a>, Previous: <a href="#The-Input-and-the-Output" accesskey="p" rel="prev">The Input and the Output</a>, Up: <a href="#The-R-Console" accesskey="u" rel="up">The R Console</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Copy-and-Paste-1"><span>2.3.2 Copy and Paste<a class="copiable-link" href="#Copy-and-Paste-1"> &para;</a></span></h4>
<p>Copy and paste works in R as in any other Macintosh application.
</p>
<p>If you want high resolution graphic exports, you can save the PDF format using the <em class="emph">File/Save as</em> menu item (see <a class="pxref" href="#Quartz-device">Quartz device</a>). Or you can use supported formats in R through <code class="code">pdf()</code>, <code class="code">jpeg()</code> etc. (type <code class="code">?capabilities</code> to get more details).
</p>
<hr>
</div>
<div class="subsection-level-extent" id="The-current-and-startup-working-directories">
<div class="nav-panel">
<p>
Next: <a href="#Resizing-the-R-Console" accesskey="n" rel="next">Resizing the R Console</a>, Previous: <a href="#Copy-and-Paste" accesskey="p" rel="prev">Copy and Paste</a>, Up: <a href="#The-R-Console" accesskey="u" rel="up">The R Console</a> &nbsp; </p>
</div>
<h4 class="subsection" id="The-current-and-startup-working-directories-1"><span>2.3.3 The current and startup working directories<a class="copiable-link" href="#The-current-and-startup-working-directories-1"> &para;</a></span></h4>
<p>If not otherwise specified in the Preferences (see <a class="pxref" href="#Preferences">Preferences</a>), or if the specified path is no longer available, then the default working directory at startup is the user home.
The working directory can be changed using the <em class="emph">setwd</em> R command or using the <em class="emph">Misc</em> menu item <em class="emph">Change working directory</em>. Finally it is possible to use a specific directory for a single <abbr class="acronym">R</abbr> session by dragging a folder onto the <small class="sc">R.APP</small> icon. If <small class="sc">R.APP</small> is not running, this will cause <small class="sc">R.APP</small> to be started in the directory corresponding to the folder dragged. The same can be achieved on the command line &ndash; for example <code class="code">open -a R .</code> causes <small class="sc">R.APP</small> to be started using the current directory as the startup working directory.
</p>
<p>This feature is useful if you want different startup procedures defined by the <samp class="file">.Rprofile</samp>; you can 
edit a <samp class="file">.Rprofile</samp> (containing you personal initialization <abbr class="acronym">R</abbr> commands) in a particular directory and use
the Preferences (or any other method mentioned above) to change the startup directory. Next time you launch <samp class="file">R.app</samp> the <samp class="file">.Rprofile</samp> is read and executed by <abbr class="acronym">R</abbr> at startup. This is the equivalent on Unix (or the command line) to launch <abbr class="acronym">R</abbr> from different directories.
</p>
 
<hr>
</div>
<div class="subsection-level-extent" id="Resizing-the-R-Console">
<div class="nav-panel">
<p>
Next: <a href="#R-Console-text-colors" accesskey="n" rel="next">R Console text colors</a>, Previous: <a href="#The-current-and-startup-working-directories" accesskey="p" rel="prev">The current and startup working directories</a>, Up: <a href="#The-R-Console" accesskey="u" rel="up">The R Console</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Resizing-the-R-Console-1"><span>2.3.4 Resizing the R Console<a class="copiable-link" href="#Resizing-the-R-Console-1"> &para;</a></span></h4>
<p>When the R Console Window is resized, the R option <em class="emph">width</em> is set appropriately so that any future
output will fit the window size.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="R-Console-text-colors">
<div class="nav-panel">
<p>
Previous: <a href="#Resizing-the-R-Console" accesskey="p" rel="prev">Resizing the R Console</a>, Up: <a href="#The-R-Console" accesskey="u" rel="up">The R Console</a> &nbsp; </p>
</div>
<h4 class="subsection" id="R-Console-text-colors-1"><span>2.3.5 R Console text colors<a class="copiable-link" href="#R-Console-text-colors-1"> &para;</a></span></h4>
<p>Use the Preferences window to set the R Console text colors (see <a class="pxref" href="#Preferences">Preferences</a>).
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="General-Features">
<div class="nav-panel">
<p>
Next: <a href="#The-Menus" accesskey="n" rel="next">The Menus</a>, Previous: <a href="#The-R-Console" accesskey="p" rel="prev">The R Console</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="General-Features-1"><span>2.4 General Features<a class="copiable-link" href="#General-Features-1"> &para;</a></span></h3>

<ul class="mini-toc">
<li><a href="#Editor" accesskey="1">Editor</a></li>
<li><a href="#Editor-undo-and-line-numbers" accesskey="2">Editor undo and line numbers</a></li>
<li><a href="#Editor-text-completion" accesskey="3">Editor text completion</a></li>
<li><a href="#Editor-function-list" accesskey="4">Editor function list</a></li>
<li><a href="#Editor-syntax-coloring" accesskey="5">Editor  syntax coloring</a></li>
<li><a href="#Editor-_0028internal-and-external_0029" accesskey="6">Editor (internal and external)</a></li>
<li><a href="#Editor-help" accesskey="7">Editor help</a></li>
<li><a href="#Drag-_0026-drop" accesskey="8">Drag &amp; drop</a></li>
<li><a href="#Help-system" accesskey="9">Help system</a></li>
<li><a href="#History">History</a></li>
<li><a href="#Authentication-and-_002elibPaths">Authentication and .libPaths</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Editor">
<div class="nav-panel">
<p>
Next: <a href="#Editor-undo-and-line-numbers" accesskey="n" rel="next">Editor undo and line numbers</a>, Previous: <a href="#General-Features" accesskey="p" rel="prev">General Features</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-1"><span>2.4.1 Editor<a class="copiable-link" href="#Editor-1"> &para;</a></span></h4>
<p><small class="sc">R.APP</small> provides an integrated editor for editing of R code. It sports a number of features designed to help developing code inside R. The probably most often used function is the ability to execute code directly from the editor by pressing <kbd class="kbd"><kbd class="key">Command</kbd>-<kbd class="key">Return</kbd></kbd>. Other features include syntax highlighting, brace-matching, code completion and function indexing.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Editor-undo-and-line-numbers">
<div class="nav-panel">
<p>
Next: <a href="#Editor-text-completion" accesskey="n" rel="next">Editor text completion</a>, Previous: <a href="#Editor" accesskey="p" rel="prev">Editor</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-undo-and-line-numbers-1"><span>2.4.2 Editor undo and line numbers<a class="copiable-link" href="#Editor-undo-and-line-numbers-1"> &para;</a></span></h4>
<p>The editor supports undo/redo operations on an appropriate level of granularity (used to
be all or nothing). The editor has an optional facility to show line numbers. These help with
locating error messages. The editor also responds to the &rsquo;Go to Line&rsquo; Edit menu function. The
associated Preference Pane allows enabling/disabling of the line numbers, as well as setting line
number gutter width (to fit larger line numbers) and text margin width.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Editor-text-completion">
<div class="nav-panel">
<p>
Next: <a href="#Editor-function-list" accesskey="n" rel="next">Editor function list</a>, Previous: <a href="#Editor-undo-and-line-numbers" accesskey="p" rel="prev">Editor undo and line numbers</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-text-completion-1"><span>2.4.3 Editor text completion<a class="copiable-link" href="#Editor-text-completion-1"> &para;</a></span></h4>
<p>Completion of typed input (both file names and R code) in the editor is available through the Edit menu &rsquo;Complete&rsquo; or by typing <kbd class="kbd"><kbd class="key">Control</kbd>-<kbd class="key">.</kbd></kbd> (same as is Xcode). It uses the same facilities as the console window (for compatibility the console responds to both <kbd class="key">Tab</kbd> and <kbd class="kbd"><kbd class="key">Control</kbd>-<kbd class="key">.</kbd></kbd>).
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Editor-function-list">
<div class="nav-panel">
<p>
Next: <a href="#Editor-syntax-coloring" accesskey="n" rel="next">Editor  syntax coloring</a>, Previous: <a href="#Editor-text-completion" accesskey="p" rel="prev">Editor text completion</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-function-list-1"><span>2.4.4 Editor function list<a class="copiable-link" href="#Editor-function-list-1"> &para;</a></span></h4>
<p>The editor maintains a popup list of functions defined in the edited document. The list is available in the toolbar and is updated as you type. Selecting a function from that list causes the cursor to jump to the beginning of the function.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Editor-syntax-coloring">
<div class="nav-panel">
<p>
Next: <a href="#Editor-_0028internal-and-external_0029" accesskey="n" rel="next">Editor (internal and external)</a>, Previous: <a href="#Editor-function-list" accesskey="p" rel="prev">Editor function list</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-syntax-coloring-1"><span>2.4.5 Editor  syntax coloring<a class="copiable-link" href="#Editor-syntax-coloring-1"> &para;</a></span></h4>
<p>The editor supports syntax-highlighting for R code. It is possible to change the syntax highlighting colors using the Syntax Color Preference Pane (see below). Starting with <small class="sc">R.APP</small> version 1.17 lazy syntax highlighting is used, which means that changes influencing the entire file (such as typing a single or double quote) no longer apply to the entire file, but only a few lines. This temporary state is usually recovered by closing the quote, but in some rare instances it may persist until a change is made to the first line of the offending quote. However, lazy highlighting brings huge speedup when editing large files.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Editor-_0028internal-and-external_0029">
<div class="nav-panel">
<p>
Next: <a href="#Editor-help" accesskey="n" rel="next">Editor help</a>, Previous: <a href="#Editor-syntax-coloring" accesskey="p" rel="prev">Editor  syntax coloring</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-_0028internal-and-external_0029-1"><span>2.4.6 Editor (internal and external)<a class="copiable-link" href="#Editor-_0028internal-and-external_0029-1"> &para;</a></span></h4>
<p>By default, the editor used is incorporated into <small class="sc">R.APP</small>, the macOS GUI for R. It is a
relatively simple multi-document editor that supports the features listed above. Additionally,
two powerful commands are available to source the file being edited in its entirety (<kbd class="kbd">Command-E</kbd>)
or to source the current selection to <abbr class="acronym">R</abbr> (<kbd class="kbd">Command-Return</kbd>). Using <abbr class="acronym">R</abbr>&rsquo;s <code class="code">edit()</code> function, allows
editing of R objects or files while <abbr class="acronym">R</abbr> is kept waiting for the edit session to finish.
</p>
<p>It is possible to &rsquo;redirect&rsquo; all <abbr class="acronym">R</abbr> requests to an external editor, which runs
outside <small class="sc">R.APP</small>. In that case, it is not possible to keep <abbr class="acronym">R</abbr> waiting if <code class="code">edit()</code> is used. Using
AppleScript it is easy to implement <kbd class="kbd">Command-E</kbd> and <kbd class="kbd">Command-Return</kbd> like functionality.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Editor-help">
<div class="nav-panel">
<p>
Next: <a href="#Drag-_0026-drop" accesskey="n" rel="next">Drag &amp; drop</a>, Previous: <a href="#Editor-_0028internal-and-external_0029" accesskey="p" rel="prev">Editor (internal and external)</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Editor-help-1"><span>2.4.7 Editor help<a class="copiable-link" href="#Editor-help-1"> &para;</a></span></h4>
<p>The editor contains a light-weight help system in form of a search filed placed inside the toolbar. It is possible to use either an exact or approximate search.
</p>		
<hr>
</div>
<div class="subsection-level-extent" id="Drag-_0026-drop">
<div class="nav-panel">
<p>
Next: <a href="#Help-system" accesskey="n" rel="next">Help system</a>, Previous: <a href="#Editor-help" accesskey="p" rel="prev">Editor help</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Drag-_0026-drop-1"><span>2.4.8 Drag &amp; drop<a class="copiable-link" href="#Drag-_0026-drop-1"> &para;</a></span></h4>

<p>Drag and drop of a directory on the <small class="sc">R.APP</small> icon while <small class="sc">R.APP</small> is not
running will start <small class="sc">R.APP</small> and set the working directory. By default
<samp class="file">.RData</samp> and the history file (default name <samp class="file">.Rapp.history</samp>)
are fetched from this working directory.  If a file is dropped on the
<small class="sc">R.APP</small> icon while <small class="sc">R.APP</small> is not running, <small class="sc">R.APP</small> is started, the file
is either restored (if it is a saved workspace), sourced into <small class="sc">R.APP</small> or
opened in the selected editor. Whether the file is opened or sourced is
specified by a Preference setting in the StartUp Preference Pane.
</p>
<p>Note: At this point opening a file in the editor before <small class="sc">R.APP</small> is finished
loading will crash <small class="sc">R.APP</small>.
</p>
<p>While <small class="sc">R.APP</small> is running, drag &amp; drop of a directory updates the working
directory. Drag &amp; drop of a file sources or opens the file in the
selected editor. Double clicking on files bound to (&quot;Open With ...&quot;) R,
if <small class="sc">R.APP</small> is not running, <small class="sc">R.APP</small> is started and the file is sourced or
opened in editor. If <small class="sc">R.APP</small> is running, the file is opened in the
editor.
</p> 
<hr>
</div>
<div class="subsection-level-extent" id="Help-system">
<div class="nav-panel">
<p>
Next: <a href="#History" accesskey="n" rel="next">History</a>, Previous: <a href="#Drag-_0026-drop" accesskey="p" rel="prev">Drag &amp; drop</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Help-system-1"><span>2.4.9 Help system<a class="copiable-link" href="#Help-system-1"> &para;</a></span></h4>

<p>The Help screen allows a user to go back or forward to previous help
pages.  It is possible to print help pages. If a help topic is not
found, a pop-up window allows to exit the help search or expand the
search to a fuzzy/approximate search.
</p>		
<hr>
</div>
<div class="subsection-level-extent" id="History">
<div class="nav-panel">
<p>
Next: <a href="#Authentication-and-_002elibPaths" accesskey="n" rel="next">Authentication and .libPaths</a>, Previous: <a href="#Help-system" accesskey="p" rel="prev">Help system</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="History-1"><span>2.4.10 History<a class="copiable-link" href="#History-1"> &para;</a></span></h4>

<p><small class="sc">R.APP</small> uses history files that are (superset) compatible with history
files created by R. Multiline support remains available from inside
<small class="sc">R.APP</small>. Multiline is particularly useful when using the
<kbd class="kbd"><kbd class="key">Command</kbd>-<kbd class="key">Return</kbd></kbd> feature while editing an R
script. Import and export allows storing and importing history from
files visible in the Mac OS Finder. Multiline is preserved. This can be
set through the StartUp Preference Panel. Default number of kept history
entries is 250. A variety of history entry cleanup modes is possible.
At a minimum it is suggested to select &quot;Cleanup history entries&quot;. It&rsquo;s
optional to select removal of duplicate entries and strip comments.
</p>
<p>Note: Command-line <abbr class="acronym">R</abbr> stores history in a file usually called
<samp class="file">.Rhistory</samp>. It is suggested to use a different name for the
<small class="sc">R.APP</small> history file, and the default is <samp class="file">.Rapp.history</samp>.
</p>
<p>Note that the functions <code class="code">loadhistory()</code>, <code class="code">savehistory()</code> and
hence <code class="code">history()</code> are not currently supported in <small class="sc">R.APP</small>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Authentication-and-_002elibPaths">
<div class="nav-panel">
<p>
Previous: <a href="#History" accesskey="p" rel="prev">History</a>, Up: <a href="#General-Features" accesskey="u" rel="up">General Features</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Authentication-and-_002elibPaths-1"><span>2.4.11 Authentication and .libPaths<a class="copiable-link" href="#Authentication-and-_002elibPaths-1"> &para;</a></span></h4>
<p>The official <abbr class="acronym">CRAN</abbr> binaries come pre-packaged in such a way that
administrator have sufficient privileges to update R and install
packages system-wide. However, the default Unix build requires
root-authentication for package installation and other administrative
tasks. As it is not feasible to run the GUI as root, we provide the
possibility to authenticate system commands issued from the GUI. The
authentication requires an administrator login and causes all subsequent
system commands to be executed as root. Use with care!
</p>
<p>In order to allow non-administrators to maintain their own set of
packages, <small class="sc">R.APP</small> optionally adds <code class="code">~/Library/R/x.y/library</code> to the
<code class="code">.libPaths</code> (see start-up preferences, <code class="code">x.y</code> denotes the R
version without patch level). It is possible to use the Package
Installer to install packages either globally (admin users only) or for
the current user only.  (This is the same mechanism for personal library
directories described in the main <abbr class="acronym">R</abbr> documentation, but with a location
specific to <abbr class="acronym">CRAN</abbr>-like builds of <abbr class="acronym">R</abbr> on macOS.)
</p>
<p>Note that user-local packages are only used when the corresponding
preference option is enabled. The default for admin users is to use
system-wide directories, for non-admin users the personal library
directory will be used.
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="The-Menus">
<div class="nav-panel">
<p>
Next: <a href="#Preferences" accesskey="n" rel="next">Preferences</a>, Previous: <a href="#General-Features" accesskey="p" rel="prev">General Features</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="The-Menus-1"><span>2.5 The Menus<a class="copiable-link" href="#The-Menus-1"> &para;</a></span></h3>

<ul class="mini-toc">
<li><a href="#Application-Menu" accesskey="1">Application Menu</a></li>
<li><a href="#File-Menu" accesskey="2">File Menu</a></li>
<li><a href="#Edit-Menu" accesskey="3">Misc Menu</a></li>
<li><a href="#Misc-Menu" accesskey="4">Misc Menu</a></li>
<li><a href="#Workspace-Menu" accesskey="5">Workspace Menu</a></li>
<li><a href="#Packages-Menu" accesskey="6">Packages Menu</a></li>
<li><a href="#The-Help-Menu" accesskey="7">The Help Menu</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Application-Menu">
<div class="nav-panel">
<p>
Next: <a href="#File-Menu" accesskey="n" rel="next">File Menu</a>, Previous: <a href="#The-Menus" accesskey="p" rel="prev">The Menus</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Application-Menu-1"><span>2.5.1 Application Menu<a class="copiable-link" href="#Application-Menu-1"> &para;</a></span></h4>
<p>The Application menu is the first one after the main Apple Menu: it is
labelled <code class="code">R</code>.
</p>
<p>With this menu you can access three items: 1. the About box, which tells
you which version of R is currently in use, 2. Check for updates, which
search on <abbr class="acronym">CRAN</abbr> if a new version of the binary distribution of <abbr class="acronym">R</abbr>
for macOS is available (you need an Internet connection), 3. you can
access the Preferences (see <a class="pxref" href="#Preferences">Preferences</a>).
</p>
<hr>
</div>
<div class="subsection-level-extent" id="File-Menu">
<div class="nav-panel">
<p>
Next: <a href="#Edit-Menu" accesskey="n" rel="next">Misc Menu</a>, Previous: <a href="#Application-Menu" accesskey="p" rel="prev">Application Menu</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="File-Menu-1"><span>2.5.2 File Menu<a class="copiable-link" href="#File-Menu-1"> &para;</a></span></h4>
<p>This menu provides standard functionalities. 
The <em class="emph">open</em> command is associated to the action  <em class="emph">Source <abbr class="acronym">R</abbr> code</em>, which means that you can select a file, which is a script, and it will be executed
in <abbr class="acronym">R</abbr>. This is a interface to the <abbr class="acronym">R</abbr> source command <code class="command">source</code>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Edit-Menu">
<div class="nav-panel">
<p>
Next: <a href="#Misc-Menu" accesskey="n" rel="next">Misc Menu</a>, Previous: <a href="#File-Menu" accesskey="p" rel="prev">File Menu</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Misc-Menu-1"><span>2.5.3 Misc Menu<a class="copiable-link" href="#Misc-Menu-1"> &para;</a></span></h4>
<p>Apart for standard functionalities, the only relevant item in this menu
is <em class="emph">Edit Object</em> which is an interface to the <abbr class="acronym">R</abbr> <code class="command">edit</code>
function.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Misc-Menu">
<div class="nav-panel">
<p>
Next: <a href="#Workspace-Menu" accesskey="n" rel="next">Workspace Menu</a>, Previous: <a href="#Edit-Menu" accesskey="p" rel="prev">Misc Menu</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Misc-Menu-2"><span>2.5.4 Misc Menu<a class="copiable-link" href="#Misc-Menu-2"> &para;</a></span></h4>
<p>With this menu you can load and save the history of commands typed in the <abbr class="acronym">R</abbr> Console or view what&rsquo;s currently inside.
You can also change the current working directory, let <abbr class="acronym">R</abbr> show you the current working directory or set it back to the
startup directory. From release 1.9.0 of <abbr class="acronym">R</abbr> the current working directory is also shown on the main window bar.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Workspace-Menu">
<div class="nav-panel">
<p>
Next: <a href="#Packages-Menu" accesskey="n" rel="next">Packages Menu</a>, Previous: <a href="#Misc-Menu" accesskey="p" rel="prev">Misc Menu</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Workspace-Menu-1"><span>2.5.5 Workspace Menu<a class="copiable-link" href="#Workspace-Menu-1"> &para;</a></span></h4>

<p>Here you find self explanatory menu items for manage your workspace in
<abbr class="acronym">R</abbr>. You can either load and save the workspace also by specifying file
name. All of these are interfaces to the <code class="command">load</code> and
<code class="command">save</code> <abbr class="acronym">R</abbr> commands.  The only relevant item, which is specific
to this GUI, is <em class="emph">Browse workspace</em> which invokes the
<code class="code">browseEnv()</code> function in <abbr class="acronym">R</abbr>. This will open a window with a
summary description of the objects in your workspace. Recursive objects
(like lists, data.frame etc) can be expanded (one level only though).
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Packages-Menu">
<div class="nav-panel">
<p>
Next: <a href="#The-Help-Menu" accesskey="n" rel="next">The Help Menu</a>, Previous: <a href="#Workspace-Menu" accesskey="p" rel="prev">Workspace Menu</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Packages-Menu-1"><span>2.5.6 Packages Menu<a class="copiable-link" href="#Packages-Menu-1"> &para;</a></span></h4>

<p>Using this menu you can have access to the list of packages and
data-sets installed on your system and to the ones on <abbr class="acronym">CRAN</abbr> or on the
Bioconductor site.
</p>
<p>With the first two menus you can load and detach packages and data-set
from the workspace.  Let&rsquo;s start with the <em class="emph">Package Manager</em>. This
opens a window with several columns displayed.  For each package on your
system you can see a check box, the current status of the package
(loaded/not loaded), its name and the package description text. You use
the check box to select/de-select the packages you want.  On window
closure, the checked packaged will be loaded and the unchecked ones (if
loaded) will the detached (not completely as on macOS you cannot
unload completely dynamic libraries).
</p>
<p>The same applies to the <em class="emph">Dataset Manager</em> menu but for data-sets.
</p>
<p>You can than get or update packages <abbr class="acronym">CRAN</abbr> either in binary or source
format. Daily build of <abbr class="acronym">CRAN</abbr> packages are available for macOS. If
you don&rsquo;t know how to build <abbr class="acronym">R</abbr> itself from source, you&rsquo;ll probably be
unable to build packages from source on your own.  In this case, you
should always choose for the binary option. These binary packages work
(for sure!) for the release version of <abbr class="acronym">R</abbr> for macOS you find on
<abbr class="acronym">CRAN</abbr> even though it is not excluded that they will work for other
prebuilt versions of <abbr class="acronym">R</abbr>.
</p>

<p>When you attempt to install packages from <abbr class="acronym">CRAN</abbr>, <abbr class="acronym">R</abbr> first tries to
get a connection to the Internet to download the list of available
packages. Than a window will open similar to the one in the package
manager with the only difference that for each package there is also the
information concerning the version of the package installed on your
system (if any) and the version of the prebuilt package available on
<abbr class="acronym">CRAN</abbr>. When you close the window, the select packages will be
downloaded.
</p>
<p>The same strategy applies to the Bioconductor menu item, with some more
options typical of the Bioconductor way of managing packages.
</p>
<p>For some reason it could happen that you have the package you want to
install (either in binary or source form) on one of your local disks, or
even a directory containing a package source. You can use the last menu
to do the task of installing the package.  Having a package in a
directory form usually applies to people that are developing packages
themselves.
</p>
<p>Note that packages which do not contain C, C++, Fortran &hellip; code
which needs to be compiled can be compiled from their sources with no
additional tools.
</p>
<p>For more information on this topic see also <a class="ref" href="#How-to-install-packages">How to install packages</a>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="The-Help-Menu">
<div class="nav-panel">
<p>
Previous: <a href="#Packages-Menu" accesskey="p" rel="prev">Packages Menu</a>, Up: <a href="#The-Menus" accesskey="u" rel="up">The Menus</a> &nbsp; </p>
</div>
<h4 class="subsection" id="The-Help-Menu-1"><span>2.5.7 The Help Menu<a class="copiable-link" href="#The-Help-Menu-1"> &para;</a></span></h4>
<p>Using this menu you can open the on-line manuals (<em class="emph">R Help</em>), read this FAQ and  review the latest changes, bug fixes and new features of R for macOS (<em class="emph">What&rsquo;s new in this version</em>).
There are also interfaces to the R <em class="emph">help</em> and <em class="emph">help.search</em> functions as well as the <em class="emph">example</em> function. 
</p>
<hr>
</div>
</div>
<div class="section-level-extent" id="Preferences">
<div class="nav-panel">
<p>
Next: <a href="#R_002eapp-Bugs" accesskey="n" rel="next">R.app Bugs</a>, Previous: <a href="#The-Menus" accesskey="p" rel="prev">The Menus</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="Preferences-1"><span>2.6 Preferences<a class="copiable-link" href="#Preferences-1"> &para;</a></span></h3>
<p>You can set several aspects of the <abbr class="acronym">R</abbr> GUI via preferences. You can access the Preferences window via the Application menu when the
<abbr class="acronym">R</abbr> Console is open.
</p>

<ul class="mini-toc">
<li><a href="#Startup" accesskey="1">Startup</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Startup">
<div class="nav-panel">
<p>
Previous: <a href="#Preferences" accesskey="p" rel="prev">Preferences</a>, Up: <a href="#Preferences" accesskey="u" rel="up">Preferences</a> &nbsp; </p>
</div>
<h4 class="subsection" id="Startup-1"><span>2.6.1 Startup<a class="copiable-link" href="#Startup-1"> &para;</a></span></h4>
<p>The Drag &amp; drop section defines drag &amp; drop behaviour during R
start-up. Options are to open file in an editor or to source
file. Default is to source the file.  The Default Library Paths section
enables, on next start-up of R, to add a directory, e.g.
<samp class="file">~/R/Library</samp>, to the library search/install path. The initial
working directory section can be used to enforce the initial working
directory. If no directory is specified, this directory is used as the
default. The Change button allows to select a new directory. The Always
apply selection will enforce the specified intial start-up
directory. The history section controls reading of the history file on
startup. If selected, R will read history file on start-up.  The R
history file field is used to read and store history from/to. This field
can be edited to allow selecting files starting with a period (e.g.
<samp class="file">.Rapp.history</samp>). If you want the same history file regardless of
your selected working directory, specify a fixed path (e.g.
<samp class="file">~/.Rapp.history</samp>).  The Default button will reset the history file
name to its default value. The History handling area allows setting of
the max number of entries to be kept in history, to remove duplicate
entries, to cleanup history entries (this is very useful to remove blank
lines when submitting multiple lines using Command-Return) and the strip
comments before the entry is added to the history.
</p>

<ul class="mini-toc">
<li><a href="#Editor-Preferences" accesskey="1">Editor Preferences</a></li>
<li><a href="#Syntax-Colors" accesskey="2">Syntax Colors</a></li>
<li><a href="#Console-Colors" accesskey="3">Console Colors</a></li>
<li><a href="#Quartz-window" accesskey="4">Quartz window</a></li>
</ul>
<hr>
<div class="subsubsection-level-extent" id="Editor-Preferences">
<div class="nav-panel">
<p>
Next: <a href="#Syntax-Colors" accesskey="n" rel="next">Syntax Colors</a>, Previous: <a href="#Startup" accesskey="p" rel="prev">Startup</a>, Up: <a href="#Startup" accesskey="u" rel="up">Startup</a> &nbsp; </p>
</div>
<h4 class="subsubsection" id="Editor-Preferences-1"><span>2.6.1.1 Editor Preferences<a class="copiable-link" href="#Editor-Preferences-1"> &para;</a></span></h4>
<p>If Built-in editor is selected, allows enable/disable of syntax
coloring, brace highlighting and the showing of line numbers. If
External editor is selected, allows specifying which external
editor. That editor will be used for all editing functions. It runs as a
separate application. Using an external editor means that R will never
wait while editing (e.g. <code class="code">edit(A)</code> will return immediately and
open <code class="code">A</code> in the external editor. Command-E and Command-Return like
functionality would need to be implemented by other means,
i.e. AppleScript. The external editor can be any application
(e.g. SubEthaEdit, TextWrangler, BBEdit, Smultron, etc) or can be
activated through a shell script (e.g. see or smultron, both give better
control on how to start the editor).
</p>					
<hr>
</div>
<div class="subsubsection-level-extent" id="Syntax-Colors">
<div class="nav-panel">
<p>
Next: <a href="#Console-Colors" accesskey="n" rel="next">Console Colors</a>, Previous: <a href="#Editor-Preferences" accesskey="p" rel="prev">Editor Preferences</a>, Up: <a href="#Startup" accesskey="u" rel="up">Startup</a> &nbsp; </p>
</div>
<h4 class="subsubsection" id="Syntax-Colors-1"><span>2.6.1.2 Syntax Colors<a class="copiable-link" href="#Syntax-Colors-1"> &para;</a></span></h4>
<p>Enables to select the syntax colors.
</p>
<hr>
</div>
<div class="subsubsection-level-extent" id="Console-Colors">
<div class="nav-panel">
<p>
Next: <a href="#Quartz-window" accesskey="n" rel="next">Quartz window</a>, Previous: <a href="#Syntax-Colors" accesskey="p" rel="prev">Syntax Colors</a>, Up: <a href="#Startup" accesskey="u" rel="up">Startup</a> &nbsp; </p>
</div>
<h4 class="subsubsection" id="Console-Colors-1"><span>2.6.1.3 Console Colors<a class="copiable-link" href="#Console-Colors-1"> &para;</a></span></h4>
<p>Enables to select the input/output colors in R Console.
</p>
<hr>
</div>
<div class="subsubsection-level-extent" id="Quartz-window">
<div class="nav-panel">
<p>
Previous: <a href="#Console-Colors" accesskey="p" rel="prev">Console Colors</a>, Up: <a href="#Startup" accesskey="u" rel="up">Startup</a> &nbsp; </p>
</div>
<h4 class="subsubsection" id="Quartz-window-1"><span>2.6.1.4 Quartz window<a class="copiable-link" href="#Quartz-window-1"> &para;</a></span></h4>
<p>Currently the the Quartz preference pane is not being used.
</p>

<hr>
</div>
</div>
</div>
<div class="section-level-extent" id="R_002eapp-Bugs">
<div class="nav-panel">
<p>
Previous: <a href="#Preferences" accesskey="p" rel="prev">Preferences</a>, Up: <a href="#R_002eapp" accesskey="u" rel="up">R.app</a> &nbsp; </p>
</div>
<h3 class="section" id="R_002eapp-Bugs-1"><span>2.7 R.app Bugs<a class="copiable-link" href="#R_002eapp-Bugs-1"> &para;</a></span></h3>
<p>On Unix systems a bug report can be generated using the function
<code class="code">bug.report()</code>.  Alternatively the bug report can be submitted to
the Web page at <a class="uref" href="http://bugs.R-project.org/">http://bugs.R-project.org/</a>.
</p>
<p>Before you file a bug report, please try to reproduce it using both
<small class="sc">R.APP</small> and the console version of <abbr class="acronym">R</abbr> (if applicable). If the bug if
<small class="sc">R.APP</small>-specific, please report the bug to the mailing list
<a class="email" href="mailto:R-SIG-Mac@R-project.org">R-SIG-Mac@R-project.org</a> instead. Please do NOT forget to
mention the exact <small class="sc">R.APP</small> version and include the output of
<code class="code">sessionInfo()</code>.
</p>
<p>In any circumstances, in case of a crash, please report the crash.log
for the <em class="emph">R.bin</em> and/or <em class="emph">R.app</em> application. You can get this
crash.log using the <em class="emph">Console.app</em> located inside
<em class="emph">/Applications/Utilities</em> (select &lsquo;1&rsquo; in the crash menu in the R
console at the time of the crash (if you see that menu) to generate a
crash report).
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="How-to-install-packages">
<div class="nav-panel">
<p>
Next: <a href="#R-and-external-applications" accesskey="n" rel="next">R and external applications</a>, Previous: <a href="#R_002eapp" accesskey="p" rel="prev">R.app</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="How-to-install-packages-1"><span>3 How to install packages<a class="copiable-link" href="#How-to-install-packages-1"> &para;</a></span></h2>
<p>You have several options for installing new packages on your system. We
discuss here only the GUI interface to the standard <abbr class="acronym">R</abbr> functions like
<code class="command">install.packages()</code>. For the <abbr class="acronym">R</abbr> functions see the standard <abbr class="acronym">R</abbr>
documentation.
</p>

<ul class="mini-toc">
<li><a href="#Which-kind-of-packages-can-I-install-using-the-GUI_003f" accesskey="1">Which kind of packages can I install using the GUI</a></li>
<li><a href="#Installation-of-packages" accesskey="2">Installation of packages</a></li>
<li><a href="#Installation-of-source-packages" accesskey="3">Installation of source packages</a></li>
<li><a href="#Where-are-the-packages-I_0027ve-installed_003f" accesskey="4">Where are the packages I&rsquo;ve installed?</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Which-kind-of-packages-can-I-install-using-the-GUI_003f">
<div class="nav-panel">
<p>
Next: <a href="#Installation-of-packages" accesskey="n" rel="next">Installation of packages</a>, Previous: <a href="#How-to-install-packages" accesskey="p" rel="prev">How to install packages</a>, Up: <a href="#How-to-install-packages" accesskey="u" rel="up">How to install packages</a> &nbsp; </p>
</div>
<h3 class="section" id="Which-kind-of-packages-can-I-install-using-the-GUI"><span>3.1 Which kind of packages can I install using the GUI<a class="copiable-link" href="#Which-kind-of-packages-can-I-install-using-the-GUI"> &para;</a></span></h3>

<p>GUI provides direct access/download/installation of packages located on
<abbr class="acronym">CRAN</abbr>, the Bioconductor repositories or a custom repository. You can
also install packages from local files, either binary of source
packages, as explained below. Otherwise you can use the appropriate <abbr class="acronym">R</abbr>
commands (see <code class="code">install.packages</code>) to install packages from a
specific location other than the above mentioned ones.
</p>
<hr>
</div>
<div class="section-level-extent" id="Installation-of-packages">
<div class="nav-panel">
<p>
Next: <a href="#Installation-of-source-packages" accesskey="n" rel="next">Installation of source packages</a>, Previous: <a href="#Which-kind-of-packages-can-I-install-using-the-GUI_003f" accesskey="p" rel="prev">Which kind of packages can I install using the GUI</a>, Up: <a href="#How-to-install-packages" accesskey="u" rel="up">How to install packages</a> &nbsp; </p>
</div>
<h3 class="section" id="Installation-of-packages-1"><span>3.2 Installation of packages<a class="copiable-link" href="#Installation-of-packages-1"> &para;</a></span></h3>
<p><abbr class="acronym">R</abbr> for macOS recognizes packages in two forms: <em class="emph">binary</em> packages and <em class="emph">source</em> packages.
</p>
<p>Binary packages are <abbr class="acronym">R</abbr> packages in ready-to-use form, such that no
additional tools are necessary for their use. Binary packages are
specific for a given <abbr class="acronym">R</abbr> version OS. <abbr class="acronym">CRAN</abbr> and Bioconductor
repositories offer <abbr class="acronym">R</abbr> packages in binary form for the last released
<abbr class="acronym">R</abbr> version. Unlike on other Unix systems, <abbr class="acronym">CRAN</abbr> <abbr class="acronym">R</abbr> for macOS
installs binary packages by default, i.e. <code class="code">install.packages</code> will
look first for binary repositories unless instructed otherwise.
</p>
<p>Source packages are general in that they can be used on any platform and
OS supported by <abbr class="acronym">R</abbr>, but they need to be processed and/or compiled
before they can be used. Additional tools may be necessary for that, see
see <a class="pxref" href="#Installation-of-source-packages">Installation of source packages</a> for details. For most users
binary packages are sufficient (if available and current).
</p>
<p>On macOS packages can be installed in three ways:
</p>
<ul class="itemize mark-bullet">
<li>Using <em class="emph">Package Manager</em> in the <small class="sc">R.APP</small> GUI (recommended for most Mac users)

</li><li>Using <code class="code">install.packages</code> command in <abbr class="acronym">R</abbr>

</li><li>Using <code class="code">R CMD INSTALL</code> command in the shell (aka <em class="emph">Terminal</em>)
</li></ul>

<p>The latter two methods are common to all Unix systems and as such described in the general R documentation. In the following we will concentrate on using the <em class="emph">Package Installer</em>.
</p>
<p>If you decide to install packages you should use the <em class="emph">Packages &amp; Data</em> menu of the GUI, in particular the sub-item <em class="emph">Package Installer</em>. Select the repository, package type (binary or source) and press <em class="emph">Get List</em>. This will connect to the repository through the Internet and a list all packages available for installation. The list tells you if a package is already installed on your system, the version of the package available on <abbr class="acronym">CRAN</abbr> and the version of the same package if already installed. 
</p>
<p>You can use the search field to narrow the list of package to those matching your search criteria. Additionally you can use the search list menu to list only packages that are already installed on your system which is useful for comparing versions of available and installed packages. Finally, you can filter down to packages that have been installed by a previous <abbr class="acronym">R</abbr> version as to allow a simple upgrade.
</p>
<p>Select any package you want to install and press the <em class="emph">Install</em> button. You can follow the progress of the installation in the <abbr class="acronym">R</abbr> Console. Once the required packages are installed, the list is re-loaded to reflect the versions of newly installed packages.
</p>
<p>If you want to update all packages to the latest version, select the repository to use for the packages and press <em class="emph">Update All</em>. <abbr class="acronym">R</abbr> will automatically determine the list of packages that can be updated and present you with a selection of packages to update.
</p>
<p>You can also download any other package from the Internet yourself and decide to install it from source. In such case select one of the local entries 
in the top left list and press the <em class="emph">Install</em> button (which is now enabled).
</p>
<p>Packages can also be installed from other repositories by selecting <em class="emph">Other Repository</em> source. Enter the repository URL in the adjacent field. Note that currently the Package Installer assumes that custom repositories maintain proper hierarchy for both source and binary packages the same way <abbr class="acronym">CRAN</abbr> does when using <em class="emph">Other Repository</em>. If your custom repository is flat, select <em class="emph">Other Directory URL</em> in the installation type list.
</p>
<hr>
</div>
<div class="section-level-extent" id="Installation-of-source-packages">
<div class="nav-panel">
<p>
Next: <a href="#Where-are-the-packages-I_0027ve-installed_003f" accesskey="n" rel="next">Where are the packages I&rsquo;ve installed?</a>, Previous: <a href="#Installation-of-packages" accesskey="p" rel="prev">Installation of packages</a>, Up: <a href="#How-to-install-packages" accesskey="u" rel="up">How to install packages</a> &nbsp; </p>
</div>
<h3 class="section" id="Installation-of-source-packages-1"><span>3.3 Installation of source packages<a class="copiable-link" href="#Installation-of-source-packages-1"> &para;</a></span></h3>

<p>Source packages which do not contain compiled code can (with rare
exceptions) be installed with no additional tools.
</p>
<p>Packages with compiled code (or some with Unix scripts) need the tools
used to build <abbr class="acronym">R</abbr> itself discussed in the &lsquo;R Installation and
Administation Manual&rsquo;, and these will need to be in the &lsquo;<samp class="samp">PATH</samp>&rsquo; as
seen from <small class="sc">R.APP</small> or command-line <abbr class="acronym">R</abbr>.  For <small class="sc">R.APP</small> you may need to add
e.g. <samp class="file">/usr/local/bin</samp> and it is usually most convenient to use
command-line <abbr class="acronym">R</abbr>.
</p>
<p>If using a CRAN binary install of <abbr class="acronym">R</abbr> the compilers may not be in the
same place or have the same names as on the CRAN build machine.  Look at
file <samp class="file">/Library/Frameworks/R.framework/Resources/etc/Makeconf</samp>,
which will contain lines like
</p><div class="example">
<pre class="example-preformatted">CC = clang -mmacosx-version-min=10.13
CXX = clang++ -mmacosx-version-min=10.13 -std=gnu++14
FC = gfortran -mmacosx-version-min=10.13
OBJC = clang -mmacosx-version-min=10.13
OBJCXX = clang++ -mmacosx-version-min=10.13
</pre></div>

<p>(for Intel, similar for ARM).  You can either edit that file, or
override settings in file <samp class="file">~/.R/Makevars</samp>: see the section
&lsquo;Customizing package compilation&rsquo; of the &lsquo;R Installation and
Administration Manual&rsquo;.
</p>
<hr>
</div>
<div class="section-level-extent" id="Where-are-the-packages-I_0027ve-installed_003f">
<div class="nav-panel">
<p>
Previous: <a href="#Installation-of-source-packages" accesskey="p" rel="prev">Installation of source packages</a>, Up: <a href="#How-to-install-packages" accesskey="u" rel="up">How to install packages</a> &nbsp; </p>
</div>
<h3 class="section" id="Where-are-the-packages-I_0027ve-installed_003f-1"><span>3.4 Where are the packages I&rsquo;ve installed?<a class="copiable-link" href="#Where-are-the-packages-I_0027ve-installed_003f-1"> &para;</a></span></h3>
<p>The main library of packages is the one located inside the R.framework
(in <code class="code">/Library/Frameworks/R.framework/Resources/library</code>). This
library contains the packages (base and recommended ones) distributed
along with <abbr class="acronym">R</abbr>. Only administrators are allowed to install packages in
this system-wide directory. Note that this directory is
<abbr class="acronym">R</abbr>-version-specific. Optionally users can install personal packages in
their <code class="code">~/Library/R/x86_64/x.y/library</code> directory where <code class="code">x.y</code> denotes
the R version without the patch level (such as 3.0) &ndash; see the startup
preferences in <small class="sc">R.APP</small>.  (For ARM, replace <code class="code">x86_64</code> by <code class="code">arm64</code>.)
</p>
<p>The Package Installer performs installation to either place depending on
the installation target setting. The default for an admin users is to
install packages system-wide, whereas the default for regular users is
their personal library tree.
</p>
<p>If you use <code class="code">install.packages</code> <abbr class="acronym">R</abbr> function instead of
the Package Installer, the regular Unix behavior applies (see help pages
for details). For default setup this means that the packages are
installed according to the startup preference setting. You can check the
current defaults by issuing
</p><div class="example">
<pre class="example-preformatted">.libPaths()
</pre></div>

<hr>
</div>
</div>
<div class="chapter-level-extent" id="R-and-external-applications">
<div class="nav-panel">
<p>
Next: <a href="#Quartz-device" accesskey="n" rel="next">Quartz device</a>, Previous: <a href="#How-to-install-packages" accesskey="p" rel="prev">How to install packages</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="R-and-external-applications-1"><span>4 R and external applications<a class="copiable-link" href="#R-and-external-applications-1"> &para;</a></span></h2>


<ul class="mini-toc">
<li><a href="#AppleScript-support" accesskey="1">AppleScript support</a></li>
<li><a href="#External-editors" accesskey="2">External editors</a></li>
<li><a href="#Finder-actions" accesskey="3">Finder actions</a></li>
</ul>
<hr>
<div class="section-level-extent" id="AppleScript-support">
<div class="nav-panel">
<p>
Next: <a href="#External-editors" accesskey="n" rel="next">External editors</a>, Previous: <a href="#R-and-external-applications" accesskey="p" rel="prev">R and external applications</a>, Up: <a href="#R-and-external-applications" accesskey="u" rel="up">R and external applications</a> &nbsp; </p>
</div>
<h3 class="section" id="AppleScript-support-1"><span>4.1 AppleScript support<a class="copiable-link" href="#AppleScript-support-1"> &para;</a></span></h3>


<p><abbr class="acronym">R</abbr> has partial support for Apple-Scripts.  At the moment <abbr class="acronym">R</abbr> can be
invoked and asked to run commands from an AppleScript script.  What
follows is an example of script that interacts with <abbr class="acronym">R</abbr>. It first
invokes <abbr class="acronym">R</abbr> and then sends commands to <abbr class="acronym">R</abbr> with the <code class="command">cmd</code>
applescript command.
</p>
<div class="example">
<pre class="example-preformatted">set CommandLine to &quot;R.Version()&quot;
try
	tell application &quot;R&quot;
		activate
		with timeout of 90000 seconds
			cmd CommandLine
			cmd &quot;Sys.getenv()&quot;
			cmd &quot;print(\&quot;HelloWorld!\&quot;)&quot;
		end timeout
	end tell
end try
</pre></div>

<p>In the above, <code class="command">cmd</code> is the (only) applescript command in the <abbr class="acronym">R</abbr> dictionary that is 
used to tell <abbr class="acronym">R</abbr> to execute an <abbr class="acronym">R</abbr> command in the R Console. The syntax is 
</p><div class="example">
<pre class="example-preformatted">cmd &lt;command string&gt;
</pre></div>
<p>where command string have to be in quotes. Actually, the output of the command
is not sent back to the application that is calling <abbr class="acronym">R</abbr> but to the <abbr class="acronym">R</abbr> Console directly.
</p>
<p>There are some issues. The first is that if <abbr class="acronym">R</abbr> is still not running,
it will take a while (depending on how fast your machine is) to
startup. In the meanwhile the script sends commands without waiting and
it could happen that some commands are missed by <abbr class="acronym">R</abbr>, i.e. they arrive
before <abbr class="acronym">R</abbr> is ready to receive applescript commands. The second issue,
is that it could be that the applescript calls a bad version of
<abbr class="acronym">R</abbr>. This could happen if you have an old version of <abbr class="acronym">R</abbr> (for example
the old Carbon <abbr class="acronym">R</abbr>) installed on your System.
</p>
<p>As an example, we report here a small script that asks <abbr class="acronym">R</abbr> to <code class="command">source</code> a file using a file dialog.
</p><div class="example">
<pre class="example-preformatted">set file_to_source to (choose file with prompt &quot;Choose file to source&quot;) as alias

try
	tell application &quot;R&quot;
		activate
		with timeout of 90000 seconds
			cmd &quot;source(\&quot;&quot; &amp; file_to_source &amp; &quot;\&quot;)&quot;
		end timeout
	end tell
end try
</pre></div>


<hr>
</div>
<div class="section-level-extent" id="External-editors">
<div class="nav-panel">
<p>
Next: <a href="#Finder-actions" accesskey="n" rel="next">Finder actions</a>, Previous: <a href="#AppleScript-support" accesskey="p" rel="prev">AppleScript support</a>, Up: <a href="#R-and-external-applications" accesskey="u" rel="up">R and external applications</a> &nbsp; </p>
</div>
<h3 class="section" id="External-editors-1"><span>4.2 External editors<a class="copiable-link" href="#External-editors-1"> &para;</a></span></h3>
<p><abbr class="acronym">R</abbr> accepts the Apple Event command <em class="emph">open</em>. This means than an
external editor can communicate with <abbr class="acronym">R</abbr> sending portions of <abbr class="acronym">R</abbr> code
to execute via files. This is the approach used by the <abbr class="acronym">R</abbr>-Tcl Mode in
Alpha X (see <a class="uref" href="http://www.kelehers.org/alpha/">http://www.kelehers.org/alpha/</a>).
</p>

<hr>
</div>
<div class="section-level-extent" id="Finder-actions">
<div class="nav-panel">
<p>
Previous: <a href="#External-editors" accesskey="p" rel="prev">External editors</a>, Up: <a href="#R-and-external-applications" accesskey="u" rel="up">R and external applications</a> &nbsp; </p>
</div>
<h3 class="section" id="Finder-actions-1"><span>4.3 Finder actions<a class="copiable-link" href="#Finder-actions-1"> &para;</a></span></h3>

<p>Dragging a file on the <abbr class="acronym">R</abbr> icon, causes <abbr class="acronym">R</abbr> to source this file via
the <code class="command">source</code> <abbr class="acronym">R</abbr> command or, if the file is an <abbr class="acronym">R</abbr> image data
file RDX1 or RDX2 (normally files with extension <samp class="file">.rda</samp> or
<samp class="file">.RData</samp>), the data is loaded in the workspace and every object
with the same name in the workspace is overwritten without
notice. Loading a data file is equivalent to the <abbr class="acronym">R</abbr> command
<code class="command">load</code>.  At the moment there is no control over the file types,
i.e. dragging wrong files (i.e. files that are not <abbr class="acronym">R</abbr> scripts or image
data) simply gives an error. It is up to the user to <em class="emph">do the right
thing</em>.
</p>
<p>If <abbr class="acronym">R</abbr> is not yet running this action causes <abbr class="acronym">R</abbr> to startup.
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Quartz-device">
<div class="nav-panel">
<p>
Next: <a href="#Tcl_002fTk-issues" accesskey="n" rel="next">Tcl/Tk issues</a>, Previous: <a href="#R-and-external-applications" accesskey="p" rel="prev">R and external applications</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Quartz-device-1"><span>5 Quartz device<a class="copiable-link" href="#Quartz-device-1"> &para;</a></span></h2>

<p>The <code class="code">quartz()</code> device is the native graphic device in R for Mac OS
X. Its name derives from Apple&rsquo;s Quartz Technology which is essentially
similar to PDF rendering. 
</p>
<p>The <code class="code">quartz()</code> device can be used from <small class="sc">R.APP</small> or a suitable build of <abbr class="acronym">R</abbr>
running at the Mac console.  Where supported it is the default graphics
device.
</p>
 

<ul class="mini-toc">
<li><a href="#Interactive-mode" accesskey="1">Interactive mode</a></li>
<li><a href="#Saving-the-image" accesskey="2">Saving the image</a></li>
<li><a href="#Copying-the-image-into-the-clipboard" accesskey="3">Copying the image into the clipboard</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Interactive-mode">
<div class="nav-panel">
<p>
Next: <a href="#Saving-the-image" accesskey="n" rel="next">Saving the image</a>, Previous: <a href="#Quartz-device" accesskey="p" rel="prev">Quartz device</a>, Up: <a href="#Quartz-device" accesskey="u" rel="up">Quartz device</a> &nbsp; </p>
</div>
<h3 class="section" id="Interactive-mode-1"><span>5.1 Interactive mode<a class="copiable-link" href="#Interactive-mode-1"> &para;</a></span></h3>

<p>The quartz device allows for interaction. You can use both
<code class="command">identify</code> and <code class="command">locator</code> functions.  To break the
sequence you should right/control-click or hit the <kbd class="key">ESC</kbd> key.
</p>
<hr>
</div>
<div class="section-level-extent" id="Saving-the-image">
<div class="nav-panel">
<p>
Next: <a href="#Copying-the-image-into-the-clipboard" accesskey="n" rel="next">Copying the image into the clipboard</a>, Previous: <a href="#Interactive-mode" accesskey="p" rel="prev">Interactive mode</a>, Up: <a href="#Quartz-device" accesskey="u" rel="up">Quartz device</a> &nbsp; </p>
</div>
<h3 class="section" id="Saving-the-image-1"><span>5.2 Saving the image<a class="copiable-link" href="#Saving-the-image-1"> &para;</a></span></h3>

<p>You can save the content of the quartz device window into a PDF file,
via the <abbr class="acronym">R</abbr> menu when the device window has focus.  This is a simple
way to export high quality graphics from <abbr class="acronym">R</abbr> into other applications on
macOS as graphics is PDF-based (so are almost all applications
available). For other solutions, see (see <a class="pxref" href="#Copying-the-image-into-the-clipboard">Copying the image into the clipboard</a>) and the <code class="command">quartz.save</code> function.
</p>
<hr>
</div>
<div class="section-level-extent" id="Copying-the-image-into-the-clipboard">
<div class="nav-panel">
<p>
Previous: <a href="#Saving-the-image" accesskey="p" rel="prev">Saving the image</a>, Up: <a href="#Quartz-device" accesskey="u" rel="up">Quartz device</a> &nbsp; </p>
</div>
<h3 class="section" id="Copying-the-image-into-the-clipboard-1"><span>5.3 Copying the image into the clipboard<a class="copiable-link" href="#Copying-the-image-into-the-clipboard-1"> &para;</a></span></h3>

<p>You can copy the content of the quartz device window in the clipboard to
make the resulting image available for pasting into other
applications. The clipboard will contain both a PDF version and a bitmap
version of the quartz device window. Which version will be used depends
on the pasting applications, most modern application will prefer the PDF
version which is of higher quality as it supports vector graphics.  
</p>


<hr>
</div>
</div>
<div class="chapter-level-extent" id="Tcl_002fTk-issues">
<div class="nav-panel">
<p>
Next: <a href="#Internationalization-of-the-R_002eapp" accesskey="n" rel="next">Internationalization of the R.app</a>, Previous: <a href="#Quartz-device" accesskey="p" rel="prev">Quartz device</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Tcl_002fTk-issues-1"><span>6 Tcl/Tk issues<a class="copiable-link" href="#Tcl_002fTk-issues-1"> &para;</a></span></h2>

<p>Each binary distribution of <abbr class="acronym">R</abbr> available through <abbr class="acronym">CRAN</abbr> is built to
use the X11 implementation of Tcl/Tk.  Of course a X windows server has
to be started first: this should happen automatically on macOS, provided
it has been installed (it needs a separate install from
<a class="uref" href="http://xquartz.macosforge.org">http://xquartz.macosforge.org</a>).  The first time things are done
in the X server there can be a long delay whilst a font cache is
constructed; starting the server can take several seconds.
</p>
<p>If you don&rsquo;t like the X11 style of widgets and use command-line <abbr class="acronym">R</abbr> you
would probably want to build R using the Aqua version of Tcl/Tk (see the
&lsquo;R Installation and Administration Manual&rsquo;). Note, however, that such
builds do not work when used in the <small class="sc">R.APP</small> GUI.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Internationalization-of-the-R_002eapp">
<div class="nav-panel">
<p>
Next: <a href="#Additional-resources" accesskey="n" rel="next">Additional resources</a>, Previous: <a href="#Tcl_002fTk-issues" accesskey="p" rel="prev">Tcl/Tk issues</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Internationalization-of-the-R_002eapp-1"><span>7 Internationalization of the R.app<a class="copiable-link" href="#Internationalization-of-the-R_002eapp-1"> &para;</a></span></h2>
<p><abbr class="acronym">R</abbr> and the <small class="sc">R.APP</small> GUI support for internationalization. Among other
things this means that messages and GUI elements can be translated
into various languages. <small class="sc">R.APP</small> automatically detects the user&rsquo;s settings in
the <em class="emph">Language &amp; Region</em> section of the System Preferences and uses that
information to offer translated messages and GUI if available.
</p>

<p>If you use a non-standard setup (e.g. different language than
formats), you can override the auto-detection performed by setting
&lsquo;<samp class="samp">force.LANG</samp>&rsquo; defaults setting, such as for example
</p><div class="example">
<pre class="example-preformatted">defaults write org.R-project.R force.LANG en_US.UTF-8
</pre></div>
<p>when run in <em class="emph">Terminal</em> it will enforce US-english setting
regardless of the system setting. If you don&rsquo;t know what <em class="emph">Terminal</em>
is you can use this <abbr class="acronym">R</abbr> command instead:
</p><div class="example">
<pre class="example-preformatted">system(&quot;defaults write org.R-project.R force.LANG en_US.UTF-8&quot;)
</pre></div>
<p>but do not forget to quit <abbr class="acronym">R</abbr> and start <small class="sc">R.APP</small> again
afterwards. Please note that you must always use &lsquo;<samp class="samp">.UTF-8</samp>&rsquo; version
of the locale, otherwise <small class="sc">R.APP</small> will not work properly.
</p>
<p>By default <small class="sc">R.APP</small> uses UTF-8 for newly created documents and for the
console. When opening new documents <small class="sc">R.APP</small> assumes UTF-8 and only if
the document violates UTF-8 rules, it will try to fallback to legacy
encoding, usually Mac Roman.
</p>
<p>If you are interested in translating <small class="sc">R.APP</small> GUI into other languages,
please read the developer documentation at
<a class="uref" href="http://developer.r-project.org/Translations30.html">http://developer.r-project.org/Translations30.html</a>.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Additional-resources">
<div class="nav-panel">
<p>
Next: <a href="#Acknowledgments" accesskey="n" rel="next">Acknowledgments</a>, Previous: <a href="#Internationalization-of-the-R_002eapp" accesskey="p" rel="prev">Internationalization of the R.app</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Additional-resources-1"><span>8 Additional resources<a class="copiable-link" href="#Additional-resources-1"> &para;</a></span></h2>
<p>Here are few references that can be of interest for macOS and/or developers.
</p>

<ul class="mini-toc">
<li><a href="#Apple-Developer-Connection" accesskey="1">Apple Developer Connection</a></li>
<li><a href="#The-R-for-macOS-Developer-page" accesskey="2">The R for macOS Developer page</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Apple-Developer-Connection">
<div class="nav-panel">
<p>
Next: <a href="#The-R-for-macOS-Developer-page" accesskey="n" rel="next">The R for macOS Developer page</a>, Previous: <a href="#Additional-resources" accesskey="p" rel="prev">Additional resources</a>, Up: <a href="#Additional-resources" accesskey="u" rel="up">Additional resources</a> &nbsp; </p>
</div>
<h3 class="section" id="Apple-Developer-Connection-1"><span>8.1 Apple Developer Connection<a class="copiable-link" href="#Apple-Developer-Connection-1"> &para;</a></span></h3>

<p>The Apple Developer Connection (can be reached at
<a class="uref" href="http://developer.apple.com">http://developer.apple.com</a>) is the main source of information for
Apple products (OS, hardware, software) for developers. You can
subscribe for free to ADC and get the latest up-to-date tools from Apple
(compilers for example): however more recently these have been
distributed through the App Store.
</p>
<hr>
</div>
<div class="section-level-extent" id="The-R-for-macOS-Developer-page">
<div class="nav-panel">
<p>
Previous: <a href="#Apple-Developer-Connection" accesskey="p" rel="prev">Apple Developer Connection</a>, Up: <a href="#Additional-resources" accesskey="u" rel="up">Additional resources</a> &nbsp; </p>
</div>
<h3 class="section" id="The-R-for-macOS-Developer-page-1"><span>8.2 The R for macOS Developer page<a class="copiable-link" href="#The-R-for-macOS-Developer-page-1"> &para;</a></span></h3>
<p>There is a page dedicated to development versions for R for macOS. This page is located at
<a class="uref" href="http://mac.R-project.org/">http://mac.R-project.org/</a> and is maintained by Simon Urbanek.
It contains latest nightly builds of <abbr class="acronym">R</abbr> and <small class="sc">R.APP</small> as well as information on tools necessary to build R.
</p>
<hr>
</div>
</div>
<div class="chapter-level-extent" id="Acknowledgments">
<div class="nav-panel">
<p>
Next: <a href="#Miscellaneous-questions" accesskey="n" rel="next">Miscellaneous questions</a>, Previous: <a href="#Additional-resources" accesskey="p" rel="prev">Additional resources</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Acknowledgments-1"><span>9 Acknowledgments<a class="copiable-link" href="#Acknowledgments-1"> &para;</a></span></h2>

<p>Special thanks go to Jan de Leeuw, Byron Ellis and Thomas Lumley in
random order. Last but not least Apple for amazing OS and GUI.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Miscellaneous-questions">
<div class="nav-panel">
<p>
Previous: <a href="#Acknowledgments" accesskey="p" rel="prev">Acknowledgments</a>, Up: <a href="#Top" accesskey="u" rel="up">R for macOS FAQ</a> &nbsp; </p>
</div>
<h2 class="chapter" id="Miscellaneous-questions-1"><span>10 Miscellaneous questions<a class="copiable-link" href="#Miscellaneous-questions-1"> &para;</a></span></h2>

<ul class="mini-toc">
<li><a href="#How-can-I-have-a-per-session-_002eRprofile_003f" accesskey="1">How can I have a per session .Rprofile?</a></li>
<li><a href="#What-happens-if-I-drag-a-file-on-the-R-icon_003f" accesskey="2">What happens if I drag a file on the R icon?</a></li>
<li><a href="#How-can-I-interrupt-lengthy-operations-or-output_003f" accesskey="3">How can I interrupt lengthy operations or output?</a></li>
<li><a href="#I-see-spurious-error-messages-when-starting-R_0021" accesskey="4">I see spurious error messages when starting R!</a></li>
<li><a href="#Which-BLAS-is-used-and-how-can-it-be-changed_003f" accesskey="5">Which BLAS is used and how can it be changed?</a></li>
<li><a href="#I-don_0027t-see-a-thing-when-installing-packages_0021" accesskey="6">I don&rsquo;t see a thing when installing packages!</a></li>
<li><a href="#Why-are-there-faint-lines-in-image-plots_003f" accesskey="7">Why are there faint lines in image plots?</a></li>
<li><a href="#Why-doesn_0027t-R-GUI-support-keyboard-shortcut-XYZ-_003f" accesskey="8">Why doesn&rsquo;t R GUI support keyboard shortcut XYZ ?</a></li>
<li><a href="#What-is-the-difference-between-the-CRAN-build-and-a-vanilla-build_003f" accesskey="9">What is the difference between the CRAN build and a vanilla build?</a></li>
<li><a href="#Why-is-R_002ehome_0028_0029-not-versioned_003f">Why is R.home() in the R framework not versioned?</a></li>
<li><a href="#R_002eapp-GUI-crashes-on-startup_0021">R.app GUI crashes on startup!</a></li>
<li><a href="#Why-is-the-GUI-not-saving-my-history_003f">Why is the GUI not saving my history?</a></li>
<li><a href="#I-get-_0060_0060command-not-found_0027_0027-in-the-GUI-yet-it-works-in-the-Terminal-_002d_002d-why_003f">I get &ldquo;command not found&rdquo; in the GUI yet it works in the Terminal &ndash; why?</a></li>
<li><a href="#I-see-no-text-in-a-Quartz-plot_0021">I see no text in a Quartz plot!</a></li>
<li><a href="#I-cannot-attach-debugger-to-R">I cannot attach debugger to R</a></li>
</ul>
<hr>
<div class="section-level-extent" id="How-can-I-have-a-per-session-_002eRprofile_003f">
<div class="nav-panel">
<p>
Next: <a href="#What-happens-if-I-drag-a-file-on-the-R-icon_003f" accesskey="n" rel="next">What happens if I drag a file on the R icon?</a>, Previous: <a href="#Miscellaneous-questions" accesskey="p" rel="prev">Miscellaneous questions</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="How-can-I-have-a-per-session-_002eRprofile_003f-1"><span>10.1 How can I have a per session .Rprofile?<a class="copiable-link" href="#How-can-I-have-a-per-session-_002eRprofile_003f-1"> &para;</a></span></h3>
<p>You can by writing a <samp class="file">.Rprofile</samp> file in your favorite
session directory and change accordingly the startup working directory using the Preferences (see <a class="pxref" href="#The-current-and-startup-working-directories">The current and startup working directories</a>).
</p>
<hr>
</div>
<div class="section-level-extent" id="What-happens-if-I-drag-a-file-on-the-R-icon_003f">
<div class="nav-panel">
<p>
Next: <a href="#How-can-I-interrupt-lengthy-operations-or-output_003f" accesskey="n" rel="next">How can I interrupt lengthy operations or output?</a>, Previous: <a href="#How-can-I-have-a-per-session-_002eRprofile_003f" accesskey="p" rel="prev">How can I have a per session .Rprofile?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="What-happens-if-I-drag-a-file-on-the-R-icon_003f-1"><span>10.2 What happens if I drag a file on the R icon?<a class="copiable-link" href="#What-happens-if-I-drag-a-file-on-the-R-icon_003f-1"> &para;</a></span></h3>
<p>In this case <abbr class="acronym">R</abbr> will try to source this file or load the image data file (see <a class="pxref" href="#Finder-actions">Finder actions</a>). If <abbr class="acronym">R</abbr> is not
yet running it will be launched.
</p>
<hr>
</div>
<div class="section-level-extent" id="How-can-I-interrupt-lengthy-operations-or-output_003f">
<div class="nav-panel">
<p>
Next: <a href="#I-see-spurious-error-messages-when-starting-R_0021" accesskey="n" rel="next">I see spurious error messages when starting R!</a>, Previous: <a href="#What-happens-if-I-drag-a-file-on-the-R-icon_003f" accesskey="p" rel="prev">What happens if I drag a file on the R icon?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="How-can-I-interrupt-lengthy-operations-or-output_003f-1"><span>10.3 How can I interrupt lengthy operations or output?<a class="copiable-link" href="#How-can-I-interrupt-lengthy-operations-or-output_003f-1"> &para;</a></span></h3>
<p>In <small class="sc">R.APP</small> you can use the the <em class="emph">Stop</em> toolbar button or the <kbd class="key">ESC</kbd> (escape) key in the console window to interrupt a running calculation or output.
</p>
<p>For the command line version the same is achieved by pressing <kbd class="kbd"><kbd class="key">Ctrl</kbd>-c</kbd>. Both applications honor the <code class="code">INT</code> signal, i.e. you can type the following in a separate Terminal window to cancel all R computations:
</p><div class="example">
<pre class="example-preformatted">killall -INT R
</pre></div>

<p>(There may be some delay in stopping as <abbr class="acronym">R</abbr> queues reacting to
interrupts until safe points in the code.)
</p>
<p>However, if the executed code does not check for interrupts (using
&lsquo;<samp class="samp">R_CheckUserInterrupt</samp>&rsquo;) there may be no way of stopping <abbr class="acronym">R</abbr>. In
that case it may be worth alerting the maintainer of the package to
allow interruption (if appropriate).
</p>
<hr>
</div>
<div class="section-level-extent" id="I-see-spurious-error-messages-when-starting-R_0021">
<div class="nav-panel">
<p>
Next: <a href="#Which-BLAS-is-used-and-how-can-it-be-changed_003f" accesskey="n" rel="next">Which BLAS is used and how can it be changed?</a>, Previous: <a href="#How-can-I-interrupt-lengthy-operations-or-output_003f" accesskey="p" rel="prev">How can I interrupt lengthy operations or output?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="I-see-spurious-error-messages-when-starting-R_0021-1"><span>10.4 I see spurious error messages when starting R!<a class="copiable-link" href="#I-see-spurious-error-messages-when-starting-R_0021-1"> &para;</a></span></h3>

<p>If you see error messages upon start of the R GUI which contain
<code class="code">Library/InputManagers</code> anywhere in the text, then you have some
broken haxxies installed in your system. Those messages do NOT come from
<abbr class="acronym">R</abbr>, so don&rsquo;t blame us. Bundles located in <code class="code">Library/InputManagers</code>
of your home (or system) are hacks that get loaded into every Mac
application that you start. In most cases you don&rsquo;t see them crashing,
because most applications don&rsquo;t show the console output, but <abbr class="acronym">R</abbr> does,
so all the errors those hacks are causing become visible. The easiest
remedy is to delete all offending bundles (possibly the whole
<code class="code">Library/InputManagers</code> folder) and get a fixed version of the hack
(if you need it). The most common cause for broken hacks is system
upgrades (e.g. you get a new Mac and you transfer you settings which
include those hacks that are incompatible with your new Mac).
</p>
<p>If you want to disable all external error output in the GUI, use
</p><div class="example">
<pre class="example-preformatted">defaults write org.R-project.R 'Ignore stderr' YES
</pre></div>
<p>in the Terminal. Note, however, that this will disable <em class="emph">all</em> error output from external programs including package installation or the <code class="code">system</code> command.
</p>
<hr>
</div>
<div class="section-level-extent" id="Which-BLAS-is-used-and-how-can-it-be-changed_003f">
<div class="nav-panel">
<p>
Next: <a href="#I-don_0027t-see-a-thing-when-installing-packages_0021" accesskey="n" rel="next">I don&rsquo;t see a thing when installing packages!</a>, Previous: <a href="#I-see-spurious-error-messages-when-starting-R_0021" accesskey="p" rel="prev">I see spurious error messages when starting R!</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="Which-BLAS-is-used-and-how-can-it-be-changed_003f-1"><span>10.5 Which BLAS is used and how can it be changed?<a class="copiable-link" href="#Which-BLAS-is-used-and-how-can-it-be-changed_003f-1"> &para;</a></span></h3>

<p>The BLAS library used by <abbr class="acronym">R</abbr> depends on the way <abbr class="acronym">R</abbr> was compiled (see
&lsquo;R Installation and Administration&rsquo; manual for details). Current <abbr class="acronym">R</abbr>
binaries supplied from <abbr class="acronym">CRAN</abbr> provide both vecLib-based BLAS and
reference BLAS shipped with <abbr class="acronym">R</abbr>. vecLib is a part of Apple&rsquo;s Accelerate
framework which provides an optimized BLAS implementation for Mac
hardware. Although fast, it is not under our control and may possibly
deliver inaccurate results.
</p>
<p>The <abbr class="acronym">CRAN</abbr> binary uses <code class="code">--enable-BLAS-shlib</code> option and two Rblas
shared libraries are supplied: <samp class="file">libRblas.vecLib.dylib</samp> which uses
vecLib BLAS and <samp class="file">libRblas.0.dylib</samp> which uses reference BLAS from
<abbr class="acronym">R</abbr>. A symbolic link <samp class="file">libRblas.dylib</samp> determines which one is
used. Currently the default is to use the <abbr class="acronym">R</abbr> BLAS: this is recommended
for precision.
</p>
<p>In order to change which BLAS is used, change the <samp class="file">libRblas.dylib</samp>
symlink correspondingly &ndash; for example in Terminal:
</p><div class="example">
<pre class="example-preformatted">cd /Library/Frameworks/R.framework/Resources/lib

# for vecLib use
ln -sf libRblas.vecLib.dylib libRblas.dylib

# for R reference BLAS use
ln -sf libRblas.0.dylib libRblas.dylib
</pre></div>

<p>This feature is only present in the <abbr class="acronym">R</abbr> <abbr class="acronym">CRAN</abbr> binary. Ordinarily
compiled <abbr class="acronym">R</abbr> from sources will only have one of the above BLAS
libraries, corresponding to the configuration options used.
</p>
<p>The BLAS library used is displayed in <code class="code">sessionInfo()</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="I-don_0027t-see-a-thing-when-installing-packages_0021">
<div class="nav-panel">
<p>
Next: <a href="#Why-are-there-faint-lines-in-image-plots_003f" accesskey="n" rel="next">Why are there faint lines in image plots?</a>, Previous: <a href="#Which-BLAS-is-used-and-how-can-it-be-changed_003f" accesskey="p" rel="prev">Which BLAS is used and how can it be changed?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="I-don_0027t-see-a-thing-when-installing-packages_0021-1"><span>10.6 I don&rsquo;t see a thing when installing packages!<a class="copiable-link" href="#I-don_0027t-see-a-thing-when-installing-packages_0021-1"> &para;</a></span></h3>
<p>The output is not produced continuously during the package
installation. <small class="sc">R.APP</small> does its best to display the output as soon as
possible, but for example the documentation script does not print
anything until done.
</p>
<p>Also note that the development build of <small class="sc">R.APP</small> sends output to the
error console instead of the screen. You may want to check the
<em class="emph">Console</em> application in that case.
</p>

<hr>
</div>
<div class="section-level-extent" id="Why-are-there-faint-lines-in-image-plots_003f">
<div class="nav-panel">
<p>
Next: <a href="#Why-doesn_0027t-R-GUI-support-keyboard-shortcut-XYZ-_003f" accesskey="n" rel="next">Why doesn&rsquo;t R GUI support keyboard shortcut XYZ ?</a>, Previous: <a href="#I-don_0027t-see-a-thing-when-installing-packages_0021" accesskey="p" rel="prev">I don&rsquo;t see a thing when installing packages!</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="Why-are-there-faint-lines-in-image-plots_003f-1"><span>10.7 Why are there faint lines in image plots?<a class="copiable-link" href="#Why-are-there-faint-lines-in-image-plots_003f-1"> &para;</a></span></h3>

<p>When plots based on the <code class="code">image()</code> function are exported to PDF,
Preview shows very faint grid lines at the edges of the rectangles that
create the image. Those lines are a rendering artifact in Preview coming
from the combination of anti-aliasing and sub-pixel rendering. They are
not really a part of the PDF (zooming in will reveal that they are not a
real object which would get larger with zoom) since the rectangles are
defined as a gapless coverage of the area. The effect can be
circumvented by disabling anti-aliasing in Preview.
</p>
<p>We correct for this effect in Quartz when rendering on-screen by
snapping all rectangles to pixel boundaries of the screen, but Preview
does not.
</p>
<p>The same effect occurs in any plot with adjacent, filled polygons
without border.
</p>
<hr>
</div>
<div class="section-level-extent" id="Why-doesn_0027t-R-GUI-support-keyboard-shortcut-XYZ-_003f">
<div class="nav-panel">
<p>
Next: <a href="#What-is-the-difference-between-the-CRAN-build-and-a-vanilla-build_003f" accesskey="n" rel="next">What is the difference between the CRAN build and a vanilla build?</a>, Previous: <a href="#Why-are-there-faint-lines-in-image-plots_003f" accesskey="p" rel="prev">Why are there faint lines in image plots?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="Why-doesn_0027t-R-GUI-support-keyboard-shortcut-XYZ-_003f-1"><span>10.8 Why doesn&rsquo;t R GUI support keyboard shortcut XYZ ?<a class="copiable-link" href="#Why-doesn_0027t-R-GUI-support-keyboard-shortcut-XYZ-_003f-1"> &para;</a></span></h3>

<p>The <small class="sc">R.APP</small> GUI uses Apple frameworks for text editing and thus the
behavior of text views (console, editor, etc.) is consistent with other
applications and allows a very flexible customization. For example if
you are not satisfied with the default Emacs-like key bindings that
macOS provides, Apple allows you to extend them arbitrarily. For more
details see Apple&rsquo;s documentation on
<a class="uref" href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/EventOverview/TextDefaultsBindings/TextDefaultsBindings.html">Key Bindings</a>. There are also many 3rd-party pages on key bindings
customization, search for <code class="code">StandardKeyBinding.dict</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="What-is-the-difference-between-the-CRAN-build-and-a-vanilla-build_003f">
<div class="nav-panel">
<p>
Next: <a href="#Why-is-R_002ehome_0028_0029-not-versioned_003f" accesskey="n" rel="next">Why is R.home() in the R framework not versioned?</a>, Previous: <a href="#Why-doesn_0027t-R-GUI-support-keyboard-shortcut-XYZ-_003f" accesskey="p" rel="prev">Why doesn&rsquo;t R GUI support keyboard shortcut XYZ ?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="What-is-the-difference-between-the-CRAN-build-and-a-vanilla-build_003f-1"><span>10.9 What is the difference between the CRAN build and a vanilla build?<a class="copiable-link" href="#What-is-the-difference-between-the-CRAN-build-and-a-vanilla-build_003f-1"> &para;</a></span></h3>

<p>The <abbr class="acronym">CRAN</abbr> build of R is slightly different from a vanilla build of R,
i.e., a simple <code class="code">./configure &amp;&amp; make &amp;&amp; make install</code>. The default
package type for all builds compiled from sources is <code class="code">&quot;source&quot;</code>
wheres <abbr class="acronym">CRAN</abbr> uses binary packages.  Only the <abbr class="acronym">CRAN</abbr> build is
guaranteed to be compatible with the package binaries on <abbr class="acronym">CRAN</abbr> (or
Bioconductor). The exact flags used by <abbr class="acronym">CRAN</abbr> are avaiable in the
<abbr class="acronym">R</abbr> SVN repository of the <abbr class="acronym">CRAN</abbr> build system as <code class="code">conf.</code>xxx
files. For R 4.0.0 and higher this is
<a class="uref" href="https://svn.r-project.org/R-dev-web/trunk/QA/Simon/R4">https://svn.r-project.org/R-dev-web/trunk/QA/Simon/R4</a>
Also the <abbr class="acronym">CRAN</abbr> build includes libraries that are required
to run <abbr class="acronym">R</abbr> inside the framework. Static libraries used by <abbr class="acronym">CRAN</abbr> <abbr class="acronym">R</abbr>
and packages are available in
<a class="uref" href="https://mac.R-project.org/bin">https://mac.R-project.org/bin</a>
</p>
<hr>
</div>
<div class="section-level-extent" id="Why-is-R_002ehome_0028_0029-not-versioned_003f">
<div class="nav-panel">
<p>
Next: <a href="#R_002eapp-GUI-crashes-on-startup_0021" accesskey="n" rel="next">R.app GUI crashes on startup!</a>, Previous: <a href="#What-is-the-difference-between-the-CRAN-build-and-a-vanilla-build_003f" accesskey="p" rel="prev">What is the difference between the CRAN build and a vanilla build?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="Why-is-R_002ehome_0028_0029-in-the-R-framework-not-versioned_003f"><span>10.10 Why is R.home() in the R framework not versioned?<a class="copiable-link" href="#Why-is-R_002ehome_0028_0029-in-the-R-framework-not-versioned_003f"> &para;</a></span></h3>

<p>In the command line version of R, <code class="code">R.home()</code> always points to the
<code class="code">Resources</code> directory symbolic link inside the R framework which
points to <code class="code">Versions/Current/Resource</code> which is turn points to the
actual home &ndash; a versioned directory such as for example
<code class="code">Versions/4.2/Resources</code>. This is how framework versioning works
in macOS and is defined by Apple (see
<a class="uref" href="https://developer.apple.com/documentation/MacOSX/Conceptual/BPFrameworks/Concepts/FrameworkAnatomy.html">Framework Anatomy</a>).
</p>

<p>Although it is possible to set <code class="code">R_HOME</code> directly to the versioned
path in the R shell scripts (and thus be able to run different version
in parallel without changing the symbolic link), there are several
dangers lurking there so we don&rsquo;t recommend it. One problem is that
building packages from source won&rsquo;t work. The linker is always linking
against the current version of the framework and therefore only the
currently active version of R can compile packages. Further, packages
may have used the value of <code class="code">R.home()</code> at install time and thus may
not work with incorrect setting.  Finally, if such an R start script
happens to get copied and the R version changes, it will stop working.
</p>
<hr>
</div>
<div class="section-level-extent" id="R_002eapp-GUI-crashes-on-startup_0021">
<div class="nav-panel">
<p>
Next: <a href="#Why-is-the-GUI-not-saving-my-history_003f" accesskey="n" rel="next">Why is the GUI not saving my history?</a>, Previous: <a href="#Why-is-R_002ehome_0028_0029-not-versioned_003f" accesskey="p" rel="prev">Why is R.home() in the R framework not versioned?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="R_002eapp-GUI-crashes-on-startup_0021-1"><span>10.11 R.app GUI crashes on startup!<a class="copiable-link" href="#R_002eapp-GUI-crashes-on-startup_0021-1"> &para;</a></span></h3>

<p>If your <small class="sc">R.APP</small> GUI crashes on startup, there are two common causes for
this: a saved workspace or a corrupted history file.  (Another is a
mismatch between <small class="sc">R.APP</small> and <abbr class="acronym">R</abbr> if either has been updated).
</p>
<p>Saved workspaces can contain commands that implicitly load packages
which in turn can trigger bugs in packages or feed R with incorrect
starting values (especially if it was saved using another R). Try
removing or renaming your workspace &ndash; it&rsquo;s called <code class="code">.RData</code>. If you
did not change your startup settings, you can e.g. use
</p>
<div class="example">
<pre class="example-preformatted">mv ~/.RData ~/workspace.RData
</pre></div>

<p>to move it aside and load later manually for inspection using <code class="code">load(&quot;~/workspace.RData&quot;)</code>.
</p>
<p>Second most common cause of crashes on startup is a history file that
was not created using the <small class="sc">R.APP</small> GUI. Again, move it aside to see if
that&rsquo;s the issue: for the default file this could be done by
</p>
<div class="example">
<pre class="example-preformatted">mv ~/.Rapp.history ~/history.txt
</pre></div>

<p>Although we are trying to recover from invalid history files, they can
still crash <small class="sc">R.APP</small> due to issues in the internal handling of strings in
macOS. We are currently working on preventing this issue.
</p>
<p>If you did both of the above and <small class="sc">R.APP</small> still crashes, please select
&lsquo;1&rsquo; in the menu after the crash (if you get the crash menu in the
console) and send us the resulting crash report (see see <a class="pxref" href="#R_002eapp-Bugs">R.app Bugs</a>
above).
</p>
<hr>
</div>
<div class="section-level-extent" id="Why-is-the-GUI-not-saving-my-history_003f">
<div class="nav-panel">
<p>
Next: <a href="#I-get-_0060_0060command-not-found_0027_0027-in-the-GUI-yet-it-works-in-the-Terminal-_002d_002d-why_003f" accesskey="n" rel="next">I get &ldquo;command not found&rdquo; in the GUI yet it works in the Terminal &ndash; why?</a>, Previous: <a href="#R_002eapp-GUI-crashes-on-startup_0021" accesskey="p" rel="prev">R.app GUI crashes on startup!</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="Why-is-the-GUI-not-saving-my-history_003f-1"><span>10.12 Why is the GUI not saving my history?<a class="copiable-link" href="#Why-is-the-GUI-not-saving-my-history_003f-1"> &para;</a></span></h3>

<p><small class="sc">R.APP</small> will by default save the history in a <code class="code">.Rapp.history</code> file
whereas command line <abbr class="acronym">R</abbr> will use <code class="code">.Rhistory</code>.  So the saved
history is only used in subsequent <small class="sc">R.APP</small> sessions and not command-line
<abbr class="acronym">R</abbr>, and conversely.
</p>
<p>Note that calling <code class="code">savehistory()</code> in <small class="sc">R.APP</small> does not currently
save the history of the <small class="sc">R.APP</small> session: this means that
<code class="code">history()</code> will show an empty window.
</p>
<hr>
</div>
<div class="section-level-extent" id="I-get-_0060_0060command-not-found_0027_0027-in-the-GUI-yet-it-works-in-the-Terminal-_002d_002d-why_003f">
<div class="nav-panel">
<p>
Next: <a href="#I-see-no-text-in-a-Quartz-plot_0021" accesskey="n" rel="next">I see no text in a Quartz plot!</a>, Previous: <a href="#Why-is-the-GUI-not-saving-my-history_003f" accesskey="p" rel="prev">Why is the GUI not saving my history?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="I-get-_0060_0060command-not-found_0027_0027-in-the-GUI-yet-it-works-in-the-Terminal-_002d_002d-why_003f-1"><span>10.13 I get &ldquo;command not found&rdquo; in the GUI yet it works in the Terminal &ndash; why?<a class="copiable-link" href="#I-get-_0060_0060command-not-found_0027_0027-in-the-GUI-yet-it-works-in-the-Terminal-_002d_002d-why_003f-1"> &para;</a></span></h3>

<p>When executing system commands (for example directly via <code class="code">system</code> or indirectly via functions that call other programs such as <code class="code">install.packages</code>) the locations in which the shell is looking for programs is governed by the <code class="code">PATH</code> environment variable. That variable may be set differently for R started from an interactive shell and for R started in the GUI. You can use <code class="code">Sys.getenv(&quot;PATH&quot;)</code> to verify the current setting.
</p>
<p>When R is started from a shell (e.g., on the command line of the Terminal), it will inherit settings from that shell. Those are typically modified by shell-specific configuration files, such as <code class="code">.profile</code> or <code class="code">.bashrc</code>. Those apply only to the shell, not to the system as a whole. In addition, some installers (such as MacTeX) will modify global shell settings to make user&rsquo;s life more comfortable on the command line, but, again, those do not apply to programs not started from the shell &ndash; such as GUIs. See <a class="uref" href="http://developer.apple.com/library/mac/#qa/qa1067">Apple Technical Q&amp;A QA1067</a> for what Apple says about the topic.
</p>
<p>In order to standardize your <code class="code">PATH</code> setting in R, you can set it in
your <code class="code">.Renviron</code> file (in your home directory &ndash; see <code class="code">?Startup</code>
in R for details on how R uses configuration files on startup). This
setting will apply to R regardless of how it is started. You can also
add more elaborate constructs to <code class="code">.Rprofile</code> instead if you wish to
selectively modify the existing <code class="code">PATH</code> variable via
<code class="code">Sys.getenv</code> and <code class="code">Sys.setenv</code>.
</p>
<hr>
</div>
<div class="section-level-extent" id="I-see-no-text-in-a-Quartz-plot_0021">
<div class="nav-panel">
<p>
Next: <a href="#I-cannot-attach-debugger-to-R" accesskey="n" rel="next">I cannot attach debugger to R</a>, Previous: <a href="#I-get-_0060_0060command-not-found_0027_0027-in-the-GUI-yet-it-works-in-the-Terminal-_002d_002d-why_003f" accesskey="p" rel="prev">I get &ldquo;command not found&rdquo; in the GUI yet it works in the Terminal &ndash; why?</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="I-see-no-text-in-a-Quartz-plot_0021-1"><span>10.14 I see no text in a Quartz plot!<a class="copiable-link" href="#I-see-no-text-in-a-Quartz-plot_0021-1"> &para;</a></span></h3>

<p>Typically this means that you have corrupted fonts in your system. Open
the <code class="code">Font Book</code> application (in <code class="code">Applications</code>) and check the
fonts that you are using (for example the default font in Quartz is
currently &ldquo;Arial&rdquo;).  Corrupted fonts will have no glyphs (text will not
appear as it should), remove such fonts.
</p>




<hr>
</div>
<div class="section-level-extent" id="I-cannot-attach-debugger-to-R">
<div class="nav-panel">
<p>
Previous: <a href="#I-see-no-text-in-a-Quartz-plot_0021" accesskey="p" rel="prev">I see no text in a Quartz plot!</a>, Up: <a href="#Miscellaneous-questions" accesskey="u" rel="up">Miscellaneous questions</a> &nbsp; </p>
</div>
<h3 class="section" id="I-cannot-attach-debugger-to-R-1"><span>10.15 I cannot attach debugger to R<a class="copiable-link" href="#I-cannot-attach-debugger-to-R-1"> &para;</a></span></h3>

<p>R processes installed using Apple installer cannot be attached to by
debuggers. This is a limitation introduced by Apple as a security
measure. Since January 2020 Apple requires all notarized applications to
use &ldquo;Hardened Runtime&rdquo;
<a class="uref" href="https://developer.apple.com/documentation/security/hardened_runtime">https://developer.apple.com/documentation/security/hardened_runtime</a>
and one of the implications is that such processes cannot be tampered
with by debuggers. Therefore official R installers have to use hardened
runtime as Apple will no longer allow installation of software that is
not notarized.
</p>
<p>In order to debug R code or packages, you can use R binaries that don&rsquo;t
use hardened runtime and are not notarized. Such binaries are available
in tar-balls at <a class="uref" href="https://mac.R-project.org/">https://mac.R-project.org/</a> and can be installed
by unpacking into <code class="code">/</code>, e.g.:
</p>
<div class="example">
<pre class="example-preformatted">curl -LO http://mac.r-project.org/high-sierra/R-4.2-branch/x86_64/R-4.2-branch.tar.gz
tar fxz R-4.2-branch.tar.gz -C /
</pre></div>

<p>If you are not the administrator, you may have to use <code class="code">sudo tar ...</code>.
</p>
<p>NOTE: R releases since 4.2.0 include an entitlement in the hardened
runtime which allows debugging, so the above issue should not occur in
R releases since R 4.2.0.
</p>
</div>
</div>
</div>



</body>
</html>
